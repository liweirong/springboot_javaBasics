请手敲静态代理、JDK代理、CGLB代理Demo。

请说下JDK代理与CGLIB代理的实现原理以及区别（语音作业）


语音: 首先动态代理区别静态代理,动态代理在程序运行前没有相关代理类,而是在运行时动态生成字节码,所以叫动态代理

JDK动态代理的原理是利用反射机制生成一个实现代理接口的匿名类，通过实现接口的方式来实现 能对实现了接口的类生成代理，而不能只针对类
CGLIB动态代理是利用asm开源包，通过继承目标对象生成子类的方式来实现, 是针对类来实现代理 (如果被代理类被final关键字所修饰，那么抱歉会失败)

在效率上CGLIB的运行会快些,因为是通过类直接调用,而jdk是反射,但同时因为生成的子类会多些导致资源,通过空间换时间
jdk8之后JDK动态代理被优化过,运行变快了[当反射调用的次数达到阈值[也就是发射调用的类成为热点时]之后采用字节码的方式]

所以在spring框架的AOP的实现中,如果目标对象实现了接口，默认情况下会采用JDK的动态代理实现AOP (当然可改成CGLIB) 没有接口则会采用CGLIB,进行自动切换
