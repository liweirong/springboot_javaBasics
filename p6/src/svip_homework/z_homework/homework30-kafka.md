1 请你说下消息中间件的作用以及使用场景？并找一个你工作中可以使用消息中间件的场景。（语音作业）<br>
2 请你说下Kafka的大致架构？并说下kafka 消息的流转流程。（语音作业）<br>


1 请你说下消息中间件的作用以及使用场景？并找一个你工作中可以使用消息中间件的场景。（语音作业）
```text
消息中间件主要的作用是异步削峰和解耦
新建园区 - 流程配置需要更新一套
比如在新建公司的时候要进行房源状态的变化，一般就直接微服务调用，要弄一个全局事务
如果把这个动作拿出来就可以直接发送一个消息，其他业务系统进行监听，拿到消息自己去更新，
当新增一个其他的业务时候也是直接调用而不用去改相关代码，一般代码库是有权限的，可能你改不了，如果改坏了就会连累那个模块的开发
```
2 请你说下Kafka的大致架构？并说下kafka 消息的流转流程。（语音作业）
```text
大致架构有
prodctor comsumer broker patition 副本
partition（分区）是物理上的概念，每个partition对应于一个log文件
```

3 kafka为什么会有快的读写速度
```text
kafka 顺序写没有进行随机写  - 
        这种方法有一个缺陷——没有办法删除数据 ，所以 Kafka 是不会删除数据的，它会把所有的数据都保留下来，每个消费者（Consumer）对每个 Topic 都有一个 offset 用来表示读取到了第几条数据 。
        如果不删除硬盘肯定会被撑满，所以 Kakfa 提供了两种策略来删除数据：
            1、顺序写入一是基于时间。
            2、顺序写入二是基于 partition 文件大小
Memory Mapped Files
    即便是顺序写也不赶不上内存   
通过操作系统的Page Cache，Kafka的读写操作基本上是基于内存的，读写速度得到了极大的提升。 
零拷贝 基于 sendfile 实现 Zero Copy 
        用户态内核态的拷贝过程- cpu不参与拷贝
        linux操作系统 “零拷贝” 机制使用了sendfile方法， 允许操作系统将数据从Page Cache 直接发送到网络，只需要最后一步的copy操作将数据复制到 NIC 缓冲区， 这样避免重新复制数据 。示意图如下：
        在 Java 中FileChannal.transferTo()底层用的就是sendfile。
批量读写、批量压缩
```
