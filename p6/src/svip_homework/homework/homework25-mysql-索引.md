MySQL索引用B+树有什么优势?为什么？（语音作业）<br>
索引创建应该注意哪些点 ？为什么？（语音作业）<br>
什么是覆盖索引，什么是索引下推？  （语音作业）<br>
索引失效有哪些场景?为什么？（语音作业）<br>



MySQL索引用B+树有什么优势?为什么？（语音作业）<br>
```text
mysql的数据最终是存在磁盘，性能主要取决于磁盘寻址，所以目标就是要尽量的减少io次数才能加快查询速度
对比其他数据结构：
    二叉查找树：如果数据插入在一侧会退化成单向链表
    红黑树可以平衡节点但是会造成数据量大的时候很深就代表io次数过多
    B树的话会减少深度，但是数据都存在节点，mysql的磁盘和内存交互的最小单位是页，默认16k，如果存了数据会导致一个页寸的条数少了，造成节点过多，而且io不稳定
    B+树的出现就改善了B树的缺点，叶子节点才存数据，而且叶子节点的数据组成了双向链表，因为只有叶子节点才存数据，所以上层的页存的索引更多了，意味着层会减少
    而且因为必须要到叶子节点取数据也意味着io是固定的
                    

```
索引创建应该注意哪些点 ？为什么？（语音作业）<br>
```text
1.离散度低的不要建索引 这样会导致索引树上相同的值太多，不好比对
2.尽量建立联合索引，减少索引树；因为索引不是越多越好，索引树越多更新操作越慢
；优先建立where与order by联合索引

```
什么是覆盖索引，什么是索引下推？  （语音作业）<br>
```text
覆盖索引: 减少回表数量

索引下推 Mysql5.6之后新加功能，减少回表数量

比如建了一个联合索引 a b ，这个时候有一个sql进行查询，a生效了，但是b不生效 例如 LIKE '%...%'
假如，teacher_age=18有300条数据，包含tom的有100条
在5.6之前
在二级索引中查到a,比如查到300条数据，300条数据全部回表，然后给到service层过滤b的条件，得到100.
5.6之后
在二级索引中查到a,查到300条数据，然后在存储引擎中直接过滤b的条件，然后回表只需要回表100条。返回给server
索引条件下推，其实就是把之前server层过滤，下推到存储引擎！！减少回表数量
```

索引失效有哪些场景?为什么？（语音作业）<br>
```text
1 范围查询会导致当前索引列后的所有索引列失效 因为联合索引第一个字段都是一个范围了，就没法根据他下一个字段去搜索比如 ！= < > BETWEEN AND 等等
2.查询条件中某列使用 %开头，存储引擎不能使用索引中该列及其后的所有列
3.索引列使用函数，因为索引在建立时会和计算后可能不同，无法定位到索引。但如果查询条件不是对索引列进行计算，那么依然可以走索引。
3.不能对索引列进行函数运算，这也包括加减乘除的谓词运算，这也会使索引失效
4.某列使用类型转换的（包括显示的和隐示的），存储引擎不能使用索引中该列及其后的所有列。如：字符串类型的列NAME=3,就是隐示的类型转换，将INT型转换为字符串类型。如果写为NAME=’3’,就不是类型转换。
5.进行
另外还有一个比较容易忽略点，全部索引失效的情况:
数据超过30% (这只是个大概的值，并不准确)
```